<!-- app/views/users/edit.html.erb -->

<div class="profile-edit-page">
  <h1 class="edit-title">Edit Your Profile</h1>

  <%= form_for @user, url: user_path(@user), method: :patch, html: { multipart: true } do |f| %>
    <!-- Avatar Section -->
    <div class="form-section avatar-section">
      <div class="current-avatar">
        <% if @user.avatar.attached? %>
          <%= image_tag @user.avatar.variant(resize_to_limit: [130, 130]), class: "avatar-preview" %>
        <% else %>
          <i class="fas fa-user-circle fa-7x avatar-icon"></i>
        <% end %>
      </div>

      <div class="avatar-upload">
        <label class="btn-upload-avatar">
          <span>Choose File</span>
          <%= f.file_field :avatar, class: "file-input" %>
        </label>
      </div>
    </div>

    <!-- Profile Details -->
    <div class="form-group">
      <%= f.label :pen_name, "Pen Name", class: "form-label" %>
      <%= f.text_field :pen_name, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :bio, "Bio", class: "form-label" %>
      <%= f.text_area :bio, class: "form-control", rows: 4 %>
    </div>

    <div class="form-group">
      <%= f.label :location, "Location", class: "form-label" %>
      <%= f.text_field :location, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :website, "Website", class: "form-label" %>
      <%= f.url_field :website, class: "form-control" %>
    </div>

    <%= f.submit "Save Changes", class: "btn btn-save" %>
  <% end %>
</div>
