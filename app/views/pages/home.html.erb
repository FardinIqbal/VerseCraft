<!-- app/views/pages/home.html.erb -->
<section class="featured-poems">
  <h2>Featured Poems</h2>

  <!-- Debugging information (hidden in production) -->
  <div class="debug-info">
    <p>Total featured poems: <%= @featured_poems.size %></p>
    <% @featured_poems.each do |poem| %>
      <p>Poem ID: <%= poem.id %>, Title: <%= poem.title %>, Featured: <%= poem.featured %></p>
    <% end %>
  </div>

  <% if @featured_poems.present? %>
    <div class="poems-grid">
      <% @featured_poems.each do |poem| %>
        <article class="poem">
          <h3 class="poem-title"><%= link_to poem.title, poem_path(poem) %></h3>
          <p class="poem-meta">By <%= poem.user.email %> | <%= poem.created_at.strftime("%B %d, %Y") %></p>
          <div class="poem-content">
            <%= truncate(poem.content, length: 100) %>
          </div>
          <%= link_to 'Read More', poem_path(poem), class: 'btn' %>
        </article>
      <% end %>
    </div>
  <% else %>
    <p class="text-center">No featured poems at the moment.</p>
  <% end %>
</section>