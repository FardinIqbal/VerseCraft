// app/assets/stylesheets/components/_poems.scss

@import "../base/variables";

// Poem card styling for poem listings
.poem-card {
  background: $color-white; // White background for contrast
  border: 1px solid $color-border; // Subtle border for definition
  padding: 2rem; // Padding around content
  margin-bottom: 2rem; // Space between cards
  transition: transform 0.3s ease, box-shadow 0.3s ease; // Smooth animation on hover

  &:hover {
    transform: translateY(-3px); // Subtle lift effect
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); // Soft shadow for depth
  }

  // Title styling within poem card
  .poem-title {
    font-size: 1.5rem; // Larger font for emphasis
    margin-bottom: 0.5rem; // Space below title

    // Link styling for title
    a {
      color: $color-black; // Black color for readability
      text-decoration: none;
      transition: color 0.3s ease; // Smooth color transition on hover

      &:hover {
        color: $color-hover; // Highlight color on hover
      }
    }
  }

  // Metadata styling (e.g., date, author)
  .poem-meta {
    color: $color-grey; // Muted color for less emphasis
    font-size: 0.9rem; // Smaller font for metadata
    margin-bottom: 1rem;
  }

  // Preview text styling within poem card
  .poem-preview {
    font-family: $font-serif;
    font-size: 1.1rem;
    line-height: 1.6; // Optimal line height for readability
    margin-bottom: 1.5rem;
    white-space: pre-line; // Preserves line breaks
  }
}

// Poems grid layout for displaying multiple poems
.poems-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); // Responsive columns
  gap: 2rem; // Space between grid items
  padding: 1rem; // Padding around grid

  @media (max-width: $breakpoint-sm) {
    grid-template-columns: 1fr; // Single column on smaller screens
  }
}

// Featured poems section with distinctive border styling
.featured-poems {
  margin: 3rem 0; // Space above and below section

  .section-title {
    text-align: center;
    font-size: 2rem; // Larger font for title
    margin-bottom: 2rem;
  }

  // Accent border for featured poem cards
  .poem-card {
    border-color: $color-accent;
  }
}

// Poem category filters for sorting poems
.poem-filters {
  margin-bottom: 2rem; // Space below filters
  display: flex;
  gap: 1rem; // Space between filter buttons
  flex-wrap: wrap; // Allows wrapping to next line
  justify-content: center; // Centers filters

  .filter-btn {
    padding: 0.5rem 1rem; // Padding for button area
    border: 1px solid $color-border; // Border for button boundary
    background: none; // Transparent background
    cursor: pointer;
    transition: all 0.3s ease; // Smooth transition for interactions

    // Hover and active state styling for filters
    &:hover,
    &.active {
      background-color: $color-black;
      color: $color-white; // Inverse color for emphasis
      border-color: $color-black; // Black border
    }
  }
}

// Empty state message when no poems are available
.no-poems {
  text-align: center; // Centers text
  padding: 3rem; // Padding for spacing
  color: $color-grey; // Muted color
  font-style: italic; // Italic style for subtle emphasis
}

// Poem statistics for displaying likes, views, etc.
.poem-stats {
  display: flex;
  gap: 1rem; // Space between stats items
  font-size: 0.9rem; // Small font for subtlety
  color: $color-grey; // Grey color for less emphasis

  .stat-item {
    display: flex;
    align-items: center; // Centers icon and text vertically
    gap: 0.25rem; // Space between icon and text
  }
}

// Form guidelines styling
.form-guidelines-content {
  margin: 1rem 0;
  padding: 1.5rem;
  background-color: $color-light-grey;
  border-left: 3px solid $color-accent;
  border-radius: 2px;

  h4 {
    font-family: $font-serif;
    font-size: 1.25rem;
    margin-bottom: 1rem;
    color: $color-black;
  }

  ul {
    list-style-type: disc;
    margin-left: 1.5rem;

    li {
      font-size: 1rem;
      color: $color-grey;
      margin-bottom: 0.5rem;
      line-height: 1.6;
    }
  }
}

// Poem form-specific styling
.poem-content-input {
  font-family: $font-serif !important;
  line-height: 1.8 !important;
  width: 100%;
  padding: 1.5rem;
  min-height: 300px;
  transition: all 0.3s ease;

  // Sonnet styling
  &.sonnet {
    background-image: linear-gradient(transparent 27px, #e0e0e0 27px);
    background-size: 100% 28px;
    line-height: 28px !important;
    min-height: 420px; // Accommodates 14 lines plus padding
  }

  // Haiku styling
  &.haiku {
    text-align: center;
    line-height: 2 !important;
    min-height: 150px; // Shorter for 3 lines
    background-image:
            linear-gradient(90deg, transparent 48%, #e0e0e0 48%, #e0e0e0 52%, transparent 52%);
    background-size: 100% 33.33%;
  }

  // Tanka styling
  &.tanka {
    text-align: center;
    line-height: 2 !important;
    min-height: 200px; // 5 lines
    background-image:
            linear-gradient(90deg, transparent 48%, #e0e0e0 48%, #e0e0e0 52%, transparent 52%);
    background-size: 100% 20%;
  }

  // Limerick styling
  &.limerick {
    line-height: 2 !important;
    min-height: 200px; // 5 lines
    background-image: linear-gradient(transparent 27px, #e0e0e0 27px);
    background-size: 100% 28px;
  }

  // Free verse styling
  &.free_verse {
    line-height: 1.8 !important;
    min-height: 300px;
  }
}

// Form group spacing for poem form
.form-group {
  margin-bottom: 1.5rem;

  label {
    display: block;
    margin-bottom: 0.5rem;
    font-family: $font-serif;
    font-size: 1.1rem;
    color: $color-black;
  }

  select {
    width: 100%;
    padding: 0.75rem;
    font-family: $font-serif;
    border: 1px solid $color-border;
    border-radius: 2px;
    background-color: $color-white;

    &:focus {
      outline: none;
      border-color: $color-accent;
    }
  }
}

// Display styles for different poem types in show view
.poem-content {
  &.sonnet {
    .stanza {
      margin-bottom: 2rem;
    }

    p {
      margin-bottom: 0.5rem;
      line-height: 1.8;
    }
  }

  &.haiku {
    text-align: center;
    max-width: 400px;
    margin: 2rem auto;

    p {
      margin-bottom: 0.5rem;
      line-height: 1.6;
    }
  }

  &.tanka {
    text-align: center;
    max-width: 400px;
    margin: 2rem auto;

    p {
      margin-bottom: 0.5rem;
      line-height: 1.6;
    }
  }

  &.limerick {
    max-width: 500px;
    margin: 2rem auto;

    p {
      margin-bottom: 0.25rem;
      line-height: 1.6;
    }
  }

  &.free_verse {
    max-width: 600px;
    margin: 0 auto;

    p {
      margin-bottom: 1rem;
      line-height: 1.8;
    }
  }
}
